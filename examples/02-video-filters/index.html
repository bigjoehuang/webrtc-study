<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¤ºä¾‹ 2ï¼šè§†é¢‘æ»¤é•œå’Œæ•ˆæœ - WebRTC å­¦ä¹ </title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¨ ç¤ºä¾‹ 2ï¼šè§†é¢‘æ»¤é•œå’Œæ•ˆæœ</h1>
            <p class="subtitle">ä½¿ç”¨ Canvas å¯¹è§†é¢‘æµåº”ç”¨å®æ—¶æ»¤é•œ</p>
            <a href="../../index.html" class="back-link">â† è¿”å›å¯¼èˆª</a>
        </header>

        <div class="content">
            <div class="info-box">
                <h3>å­¦ä¹ ç›®æ ‡</h3>
                <ul>
                    <li>ç†è§£å¦‚ä½•ä½¿ç”¨ Canvas å¤„ç†è§†é¢‘æµ</li>
                    <li>å­¦ä¹  CSS æ»¤é•œå’Œ Canvas å›¾åƒå¤„ç†</li>
                    <li>å®ç°å®æ—¶è§†é¢‘æ»¤é•œæ•ˆæœ</li>
                    <li>æŒæ¡ requestAnimationFrame çš„ä½¿ç”¨</li>
                </ul>
            </div>

            <div class="video-section">
                <div class="video-wrapper">
                    <h3>åŸå§‹è§†é¢‘</h3>
                    <video id="originalVideo" autoplay playsinline></video>
                </div>
                <div class="video-wrapper">
                    <h3>å¤„ç†åè§†é¢‘</h3>
                    <canvas id="filteredCanvas"></canvas>
                    <div class="video-placeholder" id="placeholder">
                        <p>ç‚¹å‡»å¼€å§‹è·å–åª’ä½“æµ</p>
                    </div>
                </div>
            </div>

            <div class="controls">
                <button id="startBtn" class="btn btn-primary">å¼€å§‹è·å–åª’ä½“</button>
                <button id="stopBtn" class="btn btn-secondary" disabled>åœæ­¢åª’ä½“</button>
            </div>

            <div class="filters-section">
                <h3>é€‰æ‹©æ»¤é•œæ•ˆæœ</h3>
                <div class="filters-grid">
                    <button class="filter-btn" data-filter="none">æ— æ»¤é•œ</button>
                    <button class="filter-btn" data-filter="grayscale">ç°åº¦</button>
                    <button class="filter-btn" data-filter="sepia">æ€€æ—§</button>
                    <button class="filter-btn" data-filter="blur">æ¨¡ç³Š</button>
                    <button class="filter-btn" data-filter="brightness">äº®åº¦</button>
                    <button class="filter-btn" data-filter="contrast">å¯¹æ¯”åº¦</button>
                    <button class="filter-btn" data-filter="invert">åè½¬</button>
                    <button class="filter-btn" data-filter="saturate">é¥±å’Œåº¦</button>
                </div>
            </div>

            <div class="code-section">
                <h3>æ ¸å¿ƒä»£ç </h3>
                <pre><code>// ä½¿ç”¨ Canvas å¤„ç†è§†é¢‘å¸§
function drawFrame() {
    const canvas = document.getElementById('filteredCanvas');
    const ctx = canvas.getContext('2d');
    const video = document.getElementById('originalVideo');
    
    // å°†è§†é¢‘å¸§ç»˜åˆ¶åˆ° Canvas
    ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
    
    // åº”ç”¨æ»¤é•œ
    ctx.filter = 'grayscale(100%)';
    
    // ç»§ç»­ä¸‹ä¸€å¸§
    requestAnimationFrame(drawFrame);
}</code></pre>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>

